const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "text/plain",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {text: "Generate Travel Plan for Location: York, UK, for 4 Days and 3 Night for Family with Luxury budget with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel for each of the location for 4 days and 3 night with each day plan with best time to  visit in a JSON format.Please don't give any other info other than the json data\n "},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"hotel\": {\n    \"name\": \"The Grand Hotel & Spa, York\",\n    \"address\": \"Station Rise, York YO1 6HS, United Kingdom\",\n    \"price\": \"From £300 per night\",\n    \"imageUrl\": \"https://www.thegrandyork.co.uk/media/1761/grand-hotel-york-exterior.jpg\",\n    \"geoCoordinates\": {\n      \"latitude\": 53.9585,\n      \"longitude\": -1.0782\n    },\n    \"rating\": 4.5,\n    \"description\": \"A luxurious 5-star hotel located in the heart of York, offering stunning views of the city walls and the River Ouse. Features include a Michelin-starred restaurant, a spa, and opulent rooms.\"\n  },\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Exploring York's Historic Heart\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"activity\": \"Visit York Minster\",\n          \"placeName\": \"York Minster\",\n          \"placeDetails\": \"A magnificent Gothic cathedral, one of the largest in Northern Europe. Explore the stunning architecture, climb the central tower for panoramic views, and learn about its rich history.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/York_Minster_South_Transept_Looking_West.jpg/1280px-York_Minster_South_Transept_Looking_West.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9597,\n            \"longitude\": -1.0756\n          },\n          \"ticketPricing\": \"Adult: £15, Child: £7.50\",\n          \"timeToTravel\": \"5 minutes walk from hotel\",\n          \"bestTime\": \"Morning or afternoon, avoiding peak hours\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"activity\": \"Lunch at The Shambles\",\n          \"placeName\": \"The Shambles\",\n          \"placeDetails\": \"A charming medieval street lined with timber-framed buildings, now home to quirky shops and cafes. Enjoy a traditional Yorkshire lunch.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Shambles_York.jpg/1280px-Shambles_York.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9585,\n            \"longitude\": -1.0763\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"5 minutes walk from York Minster\",\n          \"bestTime\": \"Any time, but lunch hours can get busy\"\n        },\n        {\n          \"time\": \"2:00 PM\",\n          \"activity\": \"Explore York Castle Museum\",\n          \"placeName\": \"York Castle Museum\",\n          \"placeDetails\": \"Discover York's fascinating history through exhibits showcasing the city's past from Roman times to the Victorian era. Explore the recreated Victorian street, JORVIK Viking Centre, and learn about the city's role in the English Civil War.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/York_Castle_Museum_-_Entrance.jpg/1280px-York_Castle_Museum_-_Entrance.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9592,\n            \"longitude\": -1.0772\n          },\n          \"ticketPricing\": \"Adult: £15.50, Child: £7.75\",\n          \"timeToTravel\": \"10 minutes walk from The Shambles\",\n          \"bestTime\": \"Afternoon, avoiding peak hours\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"activity\": \"Afternoon Tea at Bettys Cafe Tea Rooms\",\n          \"placeName\": \"Bettys Cafe Tea Rooms\",\n          \"placeDetails\": \"Indulge in a classic afternoon tea experience at this iconic York institution. Enjoy a selection of sandwiches, cakes, and scones with a pot of freshly brewed tea.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Bettys_Cafe_Tea_Rooms_York.jpg/1280px-Bettys_Cafe_Tea_Rooms_York.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9578,\n            \"longitude\": -1.0749\n          },\n          \"ticketPricing\": \"From £25 per person\",\n          \"timeToTravel\": \"10 minutes walk from York Castle Museum\",\n          \"bestTime\": \"Afternoon, for the traditional afternoon tea experience\"\n        },\n        {\n          \"time\": \"7:00 PM\",\n          \"activity\": \"Dinner at The Star Inn The City\",\n          \"placeName\": \"The Star Inn The City\",\n          \"placeDetails\": \"A Michelin-starred restaurant serving contemporary British cuisine in a stylish setting. Enjoy a fine dining experience with exceptional food and service.\",\n          \"placeImageUrl\": \"https://www.thestarinn.co.uk/wp-content/uploads/2022/07/starinncity_01.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9591,\n            \"longitude\": -1.0776\n          },\n          \"ticketPricing\": \"From £50 per person\",\n          \"timeToTravel\": \"5 minutes walk from Bettys Cafe Tea Rooms\",\n          \"bestTime\": \"Evening, for a sophisticated dining experience\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Roman and Viking Adventures\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"activity\": \"Explore York's Roman history at the York Roman Baths\",\n          \"placeName\": \"York Roman Baths\",\n          \"placeDetails\": \"Step back in time to Roman York and discover the well-preserved remains of the city's Roman Baths, including the hot spring, bath house, and museum.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/York_Roman_Bath_Exterior.jpg/1280px-York_Roman_Bath_Exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9586,\n            \"longitude\": -1.0782\n          },\n          \"ticketPricing\": \"Adult: £12.50, Child: £6.25\",\n          \"timeToTravel\": \"5 minutes walk from hotel\",\n          \"bestTime\": \"Morning, to avoid crowds\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"activity\": \"Lunch at The Treasurer's House\",\n          \"placeName\": \"The Treasurer's House\",\n          \"placeDetails\": \"A stunning medieval house with beautiful gardens, hosting a cafe serving delicious lunch and afternoon tea.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/The_Treasurer%27s_House_York_%27The_Garden%27.jpg/1280px-The_Treasurer%27s_House_York_%27The_Garden%27.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9579,\n            \"longitude\": -1.0766\n          },\n          \"ticketPricing\": \"Lunch: From £15, Afternoon Tea: From £20\",\n          \"timeToTravel\": \"10 minutes walk from York Roman Baths\",\n          \"bestTime\": \"Lunch time, to enjoy the peaceful atmosphere\"\n        },\n        {\n          \"time\": \"2:00 PM\",\n          \"activity\": \"Journey back to the Viking age at JORVIK Viking Centre\",\n          \"placeName\": \"JORVIK Viking Centre\",\n          \"placeDetails\": \"Experience a thrilling ride through recreated Viking-age York, encountering sights, smells, and sounds of Viking life.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/JORVIK_Viking_Centre_York.jpg/1280px-JORVIK_Viking_Centre_York.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9592,\n            \"longitude\": -1.0772\n          },\n          \"ticketPricing\": \"Adult: £19.50, Child: £12.50\",\n          \"timeToTravel\": \"5 minutes walk from The Treasurer's House\",\n          \"bestTime\": \"Afternoon, to avoid the largest crowds\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"activity\": \"Relax and enjoy a scenic boat trip on the River Ouse\",\n          \"placeName\": \"River Ouse Boat Trips\",\n          \"placeDetails\": \"Take a relaxing cruise along the River Ouse, enjoying stunning views of York's historic landmarks.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/River_Ouse_York_from_Skeldergate_Bridge.jpg/1280px-River_Ouse_York_from_Skeldergate_Bridge.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9587,\n            \"longitude\": -1.0779\n          },\n          \"ticketPricing\": \"From £12 per person\",\n          \"timeToTravel\": \"5 minutes walk from JORVIK Viking Centre\",\n          \"bestTime\": \"Late afternoon or evening, for a scenic sunset cruise\"\n        },\n        {\n          \"time\": \"7:00 PM\",\n          \"activity\": \"Dinner at The Rattle Owl\",\n          \"placeName\": \"The Rattle Owl\",\n          \"placeDetails\": \"A popular gastropub serving modern British cuisine with a focus on seasonal ingredients.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/18/2a/28/3e/the-rattle-owl.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9593,\n            \"longitude\": -1.0771\n          },\n          \"ticketPricing\": \"From £30 per person\",\n          \"timeToTravel\": \"10 minutes walk from the river\",\n          \"bestTime\": \"Evening, for a casual and relaxed dining experience\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"title\": \"A Day Trip to the Yorkshire Coast\",\n      \"schedule\": [\n        {\n          \"time\": \"9:00 AM\",\n          \"activity\": \"Drive to Scarborough\",\n          \"placeName\": \"Scarborough\",\n          \"placeDetails\": \"A vibrant seaside town with a stunning sandy beach, a historic castle, and a lively pier. Explore the town, enjoy a walk along the promenade, and experience the seaside atmosphere.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Scarborough_beach.jpg/1280px-Scarborough_beach.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 54.2747,\n            \"longitude\": -0.4232\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"1 hour drive from York\",\n          \"bestTime\": \"Morning, for a full day of exploring\"\n        },\n        {\n          \"time\": \"11:00 AM\",\n          \"activity\": \"Visit Scarborough Castle\",\n          \"placeName\": \"Scarborough Castle\",\n          \"placeDetails\": \"A historic castle perched on a cliff overlooking the town, offering panoramic views of the coast. Explore the castle grounds, visit the museum, and learn about the castle's rich history.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Scarborough_Castle_2018.jpg/1280px-Scarborough_Castle_2018.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 54.2745,\n            \"longitude\": -0.4234\n          },\n          \"ticketPricing\": \"Adult: £11, Child: £5.50\",\n          \"timeToTravel\": \"5 minutes drive from Scarborough town center\",\n          \"bestTime\": \"Morning or afternoon, avoiding peak hours\"\n        },\n        {\n          \"time\": \"1:00 PM\",\n          \"activity\": \"Lunch at a seaside restaurant\",\n          \"placeName\": \"Various seaside restaurants\",\n          \"placeDetails\": \"Enjoy a delicious lunch with stunning sea views at one of Scarborough's many restaurants along the promenade.\",\n          \"placeImageUrl\": \"N/A\",\n          \"geoCoordinates\": {\n            \"latitude\": 54.2753,\n            \"longitude\": -0.4218\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"5 minutes walk from Scarborough Castle\",\n          \"bestTime\": \"Lunch time, for a break and a taste of fresh seafood\"\n        },\n        {\n          \"time\": \"3:00 PM\",\n          \"activity\": \"Relax and enjoy a walk along the beach\",\n          \"placeName\": \"Scarborough Beach\",\n          \"placeDetails\": \"Spend some time relaxing on the sandy beach, building sandcastles, or taking a swim in the sea.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Scarborough_beach.jpg/1280px-Scarborough_beach.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 54.2753,\n            \"longitude\": -0.4218\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTime\": \"Afternoon, for a relaxing break\"\n        },\n        {\n          \"time\": \"5:00 PM\",\n          \"activity\": \"Enjoy a drink at a pub on the pier\",\n          \"placeName\": \"Scarborough Pier\",\n          \"placeDetails\": \"Take a stroll along the historic pier and enjoy a drink at one of the pubs or cafes with views of the sea.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Scarborough_Pier_June_2010.jpg/1280px-Scarborough_Pier_June_2010.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 54.2751,\n            \"longitude\": -0.4213\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"5 minutes walk from the beach\",\n          \"bestTime\": \"Evening, for a relaxing drink with a view\"\n        },\n        {\n          \"time\": \"7:00 PM\",\n          \"activity\": \"Dinner at a restaurant in Scarborough\",\n          \"placeName\": \"Various restaurants in Scarborough\",\n          \"placeDetails\": \"Choose from a variety of restaurants in Scarborough for a delicious dinner, from seafood to Italian to traditional British cuisine.\",\n          \"placeImageUrl\": \"N/A\",\n          \"geoCoordinates\": {\n            \"latitude\": 54.2747,\n            \"longitude\": -0.4232\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTime\": \"Evening, for a delicious meal\"\n        },\n        {\n          \"time\": \"9:00 PM\",\n          \"activity\": \"Drive back to York\",\n          \"placeName\": \"York\",\n          \"placeDetails\": \"Return to York for a relaxing evening.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/York_Minster_from_the_air.jpg/1280px-York_Minster_from_the_air.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9585,\n            \"longitude\": -1.0782\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"1 hour drive\",\n          \"bestTime\": \"Evening, for a scenic drive back\"\n        }\n      ]\n    },\n    {\n      \"day\": 4,\n      \"title\": \"Relaxation and Departure\",\n      \"schedule\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"activity\": \"Enjoy a leisurely breakfast at the hotel\",\n          \"placeName\": \"The Grand Hotel & Spa, York\",\n          \"placeDetails\": \"Start your day with a delicious breakfast at the hotel's restaurant.\",\n          \"placeImageUrl\": \"https://www.thegrandyork.co.uk/media/1761/grand-hotel-york-exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9585,\n            \"longitude\": -1.0782\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTime\": \"Morning, to start the day relaxed\"\n        },\n        {\n          \"time\": \"11:00 AM\",\n          \"activity\": \"Relax and unwind at the hotel's spa\",\n          \"placeName\": \"The Grand Hotel & Spa, York\",\n          \"placeDetails\": \"Indulge in a luxurious spa treatment, enjoy the sauna and steam room, or simply relax in the tranquility of the spa.\",\n          \"placeImageUrl\": \"https://www.thegrandyork.co.uk/media/1761/grand-hotel-york-exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9585,\n            \"longitude\": -1.0782\n          },\n          \"ticketPricing\": \"From £50 per treatment\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTime\": \"Morning or afternoon, for a relaxing experience\"\n        },\n        {\n          \"time\": \"2:00 PM\",\n          \"activity\": \"Enjoy a final lunch in York\",\n          \"placeName\": \"Various restaurants in York\",\n          \"placeDetails\": \"Choose from a variety of restaurants in York for a delicious final lunch.\",\n          \"placeImageUrl\": \"N/A\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9585,\n            \"longitude\": -1.0782\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTime\": \"Lunch time, for a final taste of York\"\n        },\n        {\n          \"time\": \"4:00 PM\",\n          \"activity\": \"Check out of hotel and depart\",\n          \"placeName\": \"The Grand Hotel & Spa, York\",\n          \"placeDetails\": \"Check out of the hotel and depart for your onward journey.\",\n          \"placeImageUrl\": \"https://www.thegrandyork.co.uk/media/1761/grand-hotel-york-exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 53.9585,\n            \"longitude\": -1.0782\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTime\": \"Afternoon, for a smooth departure\"\n        }\n      ]\n    }\n  ]\n}\n```"},
      ],
    },
  ],
});
